@require "partials/_global.styl"
@require "partials/_fonts.styl"
@require "partials/_helpers.styl"
@require "partials/_galleries.styl"
@require "partials/_metabar.styl"
@require "partials/_defaults.styl"
@require "partials/_hamburger.styl"

/* ==========================================================================
	Main Styles
   ========================================================================== */

html
	width 100%
	text-shadow 0 0 1px transparent
	font-size 16px
	font-weight 400
	font-family $ff_body
	color $gray
	margin 0
	background white
	overflow-x visible !important


body
	@extends html
	overflow-x hidden !important

	&.admin-bar
		#wpadminbar
			position fixed
			top 0


a
	outline 0 !important

	&:link
	&:visited
		text-decoration none
		color $orange

	&:hover
	&:active
	&:focus
		text-decoration underline


strong
	font-weight 700


input
textarea
	background-color white
	border none
	-border-radius(0.1em)
	box-sizing border-box
	padding 0.5em
	font-family inherit
	-placeholder-props( $ff_body, black )


input[type="submit"]
	cursor pointer
	font-family inherit
	-transition all 0.25s

	&:hover
		background-color gray


#masthead
	width 100%
	height $mast-ht
	position fixed
	top 0
	z-index 999
	background white


#site-brand
	width auto
	height 3em
	position absolute
	top 0.75em
	left 2%


.site-navigation
	list-style none
	padding-left 0


#site-navigation-container
	width 100%
	display none
	text-align center
	position relative
	top 1.55em
	text-transform uppercase

	#site-navigation
		-flexbox()
		margin 0

		li
			-flexitem()

			a
				text-decoration none
				color $orange
				-transition(0.25s color ease)

				&:hover
				&:active
				&:focus
					color $gray

			.sub-menu
				position absolute
				padding-left 0
				line-height 1.7
				margin-top 0.2em
				z-index 999 !important

				li
					display block
					margin 0


#site-navigation-sb-container
	width 100%
	text-align center
	position relative
	top $mast-ht + 1em

	#site-navigation-sb
		list-style: none
		font-size 1.6em
		line-height 1.4
		text-transform uppercase

		a
			color $orange
			text-decoration none
			-transition(all 0.25s)

			&:hover
			&:active
				color white


.sb-slidebar
	background-color $gray !important


#hamburger
	position absolute
	top 0.8em
	right 1em
	font-size 1.3em // relative resizing
	background-color transparent

	&.active
		background-color transparent

	span
		background-color $gray

		&:before
		&:after
			background-color (@background-color)


#main
	box-sizing border-box


#primary
	width 100%
	position relative
	box-sizing border-box


#primary
	padding-top $mast-ht

	.post
		#content
			.entry-content
			.entry-summary
				-wrapper(0, 0, 95%)


#colophon
	width 100%
	background $orange
	position relative

	a
		color $gray


#site-info
	height $mast-ht
	text-align center
	font-size 0.9em
	position relative

	> p
		width 100%
		margin 0
		position relative
		padding 1.5em 0 2.5em

	a
		color inherit

	#rhd-logo-footer
		width 1.15em
		height 1.15em
		margin 0 0.05em
		position relative
		bottom 0.25em


.poly
	width 20%
	height 100%
	position absolute
	display none

	canvas
		width 100%
		height 100%

	&#poly-tl
		top 0
		left 0


	&#poly-tr
		top 0
		right 0


	&#poly-bl
		bottom 0
		left 0


	&#poly-br
		bottom 0
		right 0


/* ==========================================================================
	Posts & Pages
   ========================================================================== */

.entry-title
.page-title
	margin-top 0


.entry-content
.entry-meta
	-wrapper(0, 0, 90%)


.entry-content
	padding 2.5em 0

	p
		margin 1em auto
		text-indent 1.5em

		&[style*="text-align: center"]
			text-indent 0

		&:first-child
			margin-top 0

		&:last-child
			margin-bottom 0

	h1
	h2
	h3
	h4
	h5
	h6
		line-height 1.1

	ul
		width 80%
		margin 0 auto
		list-style-type none
		padding-left 0

		li
			background url("../img/spear.png") no-repeat
			background-position left 0.25em
			background-size 0.9em auto
			padding-left 1.25em

	img
		max-width 100%
		height auto

		&.alignleft
			margin-right 1em

		&.alignright
			margin-left 1em

		&.aligncenter
			display block
			margin 0 auto


.post
	-clearfix()

	.entry-header
		width 100%
		text-align center
		margin-bottom 1em

		.entry-title
			margin 0 0 0.25rem 0

		.entry-date
			margin 0

			.sep
				font-size 0.8em

.page
.single
	.entry-header
		width 100%
		height 30vh
		position relative
		background-position center center
		background-position fixed
		background-size cover
		text-align center
		color $orange

		.overlay
			width 100%
			height 100%
			position absolute
			top 0
			left 0
			background-color rgba(0,0,0,0.6)

		.page-title
			-wrapper(0, 0, 90%)
			height auto
			margin 0
			line-height 1
			font-size 5em
			text-transform uppercase
			font-weight normal
			display inline-block
			position absolute
			top 50%
			left 50%
			-transform(translate(-50%, -50%))

		.entry-date
			position absolute
			bottom 8%
			left 50%
			padding 0.3em 0.5em
			-border-radius(1em)
			-transform(translateX(-50%))
			font-size 1.2em
			background-color rgba(255,255,255, 0.75)
			color $gray


.pagination
.single-pagination
	margin 1em auto
	font-size 1.1em
	-clearfix()

	.pag-next
	[rel="prev"]
		float left

	.pag-prev
	[rel="next"]
		float right


/* ==========================================================================
	Front Page
   ========================================================================== */

.front-page
	#masthead
		top -($mast-ht)

	#primary
		padding-top 0

	.entry-header
		height auto
		min-height 70vh

	#splash
		width 95%
		position absolute
		top 50%
		left 50%
		-transform(translate(-50%, -50%))
		font-weight 300

		#front-page-title
			width 75%
			margin 0 auto

			img
				width 100%

			#front-page-title-caption
				position relative
				bottom 1.2em
				left 0.2em
				text-transform uppercase
				color $gray
				margin 0

		#front-page-mini-nav-container
			margin 2em auto

			#front-page-mini-nav
				font-size 2em
				margin 0
				line-height 1.3
				text-transform uppercase

				a
					color $gray
					-transition(all 0.25s)
					text-decoration none

					&:hover
					&:active
						color $orange

	.entry-content
		max-width 41em

		.arm-yourself
			margin 1.5em auto 0


/* ==========================================================================
	About Page
   ========================================================================== */

.page-id-10
	.entry-content
		-unwrapper()
		padding 0
		margin 0

		.entry-sub-content
			width 100%
			padding $section-padding

			&.white
				background white
				color $gray

			&.orange
				background $orange
				color white

			.entry-sub-content-inner
				-wrapper(0, 0, 90%)

		#about-ghostbox
			width 100%
			padding 1em 1em
			margin 2em auto 1em
			-border-radius(0.3em)
			border 3px solid white
			-clearfix()
			text-align center

			.ghostbox-left
				margin-bottom 1em

			p
				text-indent 0
				margin 0 0 1.1em 0

				&:last-child
					margin-bottom 0

			.ghostbox-heading
				font-weight 700
				margin 0 0 0.25em
				font-size 1.1em
				text-transform uppercase


/* ==========================================================================
	Comments
   ========================================================================== */

#comments
	-wrapper(2em, 2em)

	.commentlist
		list-style none
		padding-left 0

		ul
		ol
			@extends #comments .commentlist

		.children
			padding 0 1.5em

	.even
		background $off-white

	.odd
		background white

	.comment-body
		padding 1em
		box-sizing border-box

	textarea
		max-width 100%

	#commentform
		width 100%
		min-width 18rem

		p
			margin-bottom 0.75rem

		input[type="text"]
		input[type="email"]
		textarea
			width 100%
			background-color white
			border 2px solid $gray-lt
			font-size 1em
			box-sizing border-box
			padding 0.5em
			-transition(0.2s all)
			display block

			&:focus
				border-color $orange

		textarea
			margin-top 1.7rem

		#submit
			width auto
			cursor pointer
			-transition(all 0.2s)

		.comment-subscription-form
			margin initial


/* ==========================================================================
	Blog Areas
   ========================================================================== */

.blog-index
	#content
		-wrapper(2em, 2em, 90%)

	.attachment-index-featured
	.attachment-index-featured-default
		-border-radius(0.1em)


.attachment-index-featured-default
	width 482px
	height 240px


/* ==========================================================================
	Search results
   ========================================================================== */

.search-results
	#content
		-wrapper(2em, 2em)

		.page-title
			font-size 2em

		.entry-header
			height auto

			.entry-title
				margin-bottom 0

			.entry-date
				background none
				-transform(none)
				-border-radius(0)
				position relative
				top 0
				right 0
				bottom 0
				left 0
				margin 0
				padding 0
				font-size 1em
				line-height 1


/* ==========================================================================
	Widget Areas & Sidebars
   ========================================================================== */

#footer-widget-area
	-wrapper(1em, 1em, 95%)

	.widget
		-wrapper(1em, 1em, 85%)

	.rhd_social_icons_simple
		-wrapper(2em, 1em, 20em)
		max-width 100%
		-flexbox()

		li
			width 3em
			height 3em
			-flexitem()

			img
				width 100%
				height 100%

	.contact-info
		color white
		font-size 1.1em
		line-height 1.3
		text-align center

		a
			color white


	.disclaimer
		font-size 0.9em
		text-align center
		line-height 1.3

	.wpcf7
		p
			margin initial

		input
		textarea
			width 100%
			font-size 1em
			font-family $ff_body
			-placeholder-props($ff_body, black)
			margin-bottom 1em
			color $gray
			-transition(all 0.2s)

		textarea
		input[type="text"]
		input[type="email"]
			border 2px solid white

			&:focus
				border 2px solid $gray-lt

		input
			height 2em

			&[type="submit"]
				-transition(all 0.25s)
				color white
				background $gray
				padding 0
				margin-bottom 0

				&:hover
					background $gray-dk

		textarea
			height 8em

		.ajax-loader
			position absolute


/* ==========================================================================
	Media Queries
   ========================================================================== */

@media screen and (min-width 40em)
	#hamburger
		display none

	#site-brand
		left 1%

	#site-navigation-container
		display block

		#site-navigation
			width 74%
			float right
			padding-right 1%
			font-size 0.75em

	.poly
		display block

	.front-page
		#splash
			width 60%

			#front-page-title
				width 50%
				margin 0 auto
				line-height 1


	#blog-metabar
		padding 0

		#blog-metabar-content
			-wrapper()
			-flexbox()
			top 0.95em

			li
				width 30%
				-flexitem()

			#blog-search
				position relative
				top	0.2em


	.page
	.single
		.entry-header
			height 55vh

			.page-title
				font-size 5em
				width 40%


	#primary
		&.blog-index
			#content
				-wrapper(1em, 1em)
				-clearfix()

			.post
				width 47%

				&:nth-of-type(odd)
					float left
				&:nth-of-type(even)
					float right


	.entry-content
		ul
			padding-left 2.5em


	.page-id-10
		.entry-content
			.entry-sub-content
				.entry-sub-content-inner
					-wrapper(0, 0, 55%)

		#about-ghostbox
			& > div
				width 49%

			.ghostbox-left
				float left
				margin-bottom 0

			.ghostbox-right
				float right



	#comments
		#commentform
			width 75%

			p
				margin-bottom 0.75rem

			input
			textarea
				padding 0.5em

			input
				&[type="text"]
				&[type="email"]
					width 75%

			textarea
				margin-top 1.7rem


	#footer-widget-area
		-wrapper(1em, 1em, 55%)
		-clearfix()

		.widget
			-unwrapper()

			&:first-of-type
				wraper(1em, 1em, 50%)

			&:nth-of-type(n+2)
				width 47%

			&:nth-of-type(odd)
				float left

			&:nth-of-type(even)
				float right

			&:last-of-type
				width 100%
				margin 1em auto

		.contact-info
			font-size 1.2em
			text-align left


@media screen and (min-width 50em)
	#site-brand
		left 2%

	#site-navigation-container
		#site-navigation
			font-size 0.9em
			padding-right 2%